interface DisplayStarsProps {
  rating: number;
}

const DisplayStars: React.FC<DisplayStarsProps> = ({ rating }) => {
  const maxStars = 5;
  const filledStars = Math.floor(rating); // Number of filled stars
  const hasHalfStar = rating % 1 !== 0; // Check for half star

    return (
      <span className="flex gap-[5px]">
        {/* Ngôi sao đã đầy */}
        {[...Array(maxStars)].map((_, index) => {
          if (index < filledStars) {
            return (
              <svg
                key={index}
                width="16"
                height="16"
                viewBox="0 0 16 16"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M8.60821 1.06031C8.50069 0.820758 8.26257 0.666626 7.99999 0.666626C7.73741 0.666626 7.49929 0.820758 7.39178 1.06031L5.51377 5.24464L0.953909 5.7377C0.692853 5.76593 0.472681 5.94476 0.39154 6.19449C0.310399 6.44422 0.383404 6.71831 0.57801 6.89459L3.9772 9.97371L3.03706 14.4628C2.98323 14.7198 3.08528 14.9844 3.29771 15.1388C3.51014 15.2931 3.79338 15.3084 4.02117 15.1778L7.99999 12.8964L11.9788 15.1778C12.2066 15.3084 12.4898 15.2931 12.7023 15.1388C12.9147 14.9844 13.0168 14.7198 12.9629 14.4628L12.0228 9.97371L15.422 6.89459C15.6166 6.71831 15.6896 6.44422 15.6084 6.19449C15.5273 5.94476 15.3071 5.76593 15.0461 5.7377L10.4862 5.24464L8.60821 1.06031Z"
                  fill="#FBBD08" // Vàng cho ngôi sao đã đầy
                />
              </svg>
            );
          }

          // Kiểm tra ngôi sao nửa
          if (hasHalfStar && index === filledStars) {
            return (
              <svg
                key={index}
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                viewBox="0 0 16 16"
                fill="none"
              >
                <g clipPath="url(#clip0_11_1319)">
                  <path
                    d="M8.60821 1.06044C8.50069 0.82088 8.26257 0.666748 7.99999 0.666748C7.73741 0.666748 7.49929 0.82088 7.39178 1.06044L5.51377 5.24476L0.953909 5.73782C0.692853 5.76605 0.472681 5.94489 0.39154 6.19461C0.310399 6.44434 0.383404 6.71843 0.57801 6.89472L3.9772 9.97383L3.03706 14.4629C2.98323 14.7199 3.08528 14.9845 3.29771 15.1389C3.51014 15.2932 3.79338 15.3085 4.02117 15.1779L7.99999 12.8966L11.9788 15.1779C12.2066 15.3085 12.4898 15.2932 12.7023 15.1389C12.9147 14.9845 13.0168 14.7199 12.9629 14.4629L12.0228 9.97383L15.422 6.89472C15.6166 6.71843 15.6896 6.44434 15.6084 6.19461C15.5273 5.94489 15.3071 5.76605 15.0461 5.73782L10.4862 5.24476L8.60821 1.06044Z"
                    fill="url(#paint0_linear_11_1319)"
                  />
                </g>
                <defs>
                  <linearGradient
                    id="paint0_linear_11_1319"
                    x1="2.5"
                    y1="7"
                    x2="14.5"
                    y2="7"
                    gradientUnits="userSpaceOnUse"
                  >
                    <stop offset="0.457357" stopColor="#FBBD08" />
                    <stop offset="0.459961" stopColor="#E2E7EB" />
                  </linearGradient>
                  <clipPath id="clip0_11_1319">
                    <rect width="16" height="16" fill="white" />
                  </clipPath>
                </defs>
              </svg>
            );
          }

          // Ngôi sao chưa đầy
          return (
            <svg
              key={index}
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              viewBox="0 0 16 16"
              fill="none"
            >
              <g clipPath="url(#clip0_11_1320)">
                <path
                  d="M8.60821 1.06044C8.50069 0.82088 8.26257 0.666748 7.99999 0.666748C7.73741 0.666748 7.49929 0.82088 7.39178 1.06044L5.51377 5.24476L0.953909 5.73782C0.692853 5.76605 0.472681 5.94489 0.39154 6.19461C0.310399 6.44434 0.383404 6.71843 0.57801 6.89472L3.9772 9.97383L3.03706 14.4629C2.98323 14.7199 3.08528 14.9845 3.29771 15.1389C3.51014 15.2932 3.79338 15.3085 4.02117 15.1779L7.99999 12.8966L11.9788 15.1779C12.2066 15.3085 12.4898 15.2932 12.7023 15.1389C12.9147 14.9845 13.0168 14.7199 12.9629 14.4629L12.0228 9.97383L15.422 6.89472C15.6166 6.71843 15.6896 6.44434 15.6084 6.19461C15.5273 5.94489 15.3071 5.76605 15.0461 5.73782L10.4862 5.24476L8.60821 1.06044Z"
                  fill="#E2E7EB"
                />
              </g>
              <defs>
                <clipPath id="clip0_11_1320">
                  <rect width="16" height="16" fill="white" />
                </clipPath>
              </defs>
            </svg>
          );
        })}
      </span>
    );
  };

export default DisplayStars;